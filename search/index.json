[{"content":"æˆ‘ä»¬éƒ½çŸ¥é“ errnoï¼Œæ˜¯å­˜æ”¾ç³»ç»Ÿè°ƒç”¨é”™è¯¯çš„åœ°æ–¹ï¼Œå…¶ä½äº \u0026lt;errno.h\u0026gt; ä¸­ï¼Œä½†æ˜¯ å®ƒåˆ°åº•æ˜¯æ€ä¹ˆæ¥çš„ï¼Ÿç³»ç»Ÿæ˜¯åœ¨ä»€ä¹ˆæ—¶å€™è®¾ç½®çš„è¿™ä¸ªå€¼çš„ï¼Ÿæ¯•ç«Ÿç³»ç»Ÿè°ƒç”¨ syscall åªä¼šè¿”å› -1 æ¥è¡¨ç¤ºå½“å‰ç³»ç»Ÿè°ƒç”¨å‡ºé”™â€¦â€¦\nå®é™…ä¸Šï¼Œåœ¨ä½¿ç”¨ç³»ç»Ÿè°ƒç”¨çš„æ—¶å€™ï¼Œæˆ‘ä»¬é€šè¿‡ä¸€ç³»åˆ— syscall è·å–çš„è¿”å›å€¼æ˜¯å·²ç»è¢« libc è¦†å†™è¿‡çš„äº†\nShow me the code https://codebrowser.dev/glibc/glibc/sysdeps/unix/sysv/linux/riscv/syscall.c.html#30\nè¿™é‡Œæˆ‘ä»¬ä»¥ risc-v æ¶æ„ä¸Šçš„ä»£ç ä¸ºä¾‹ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ° syscall çš„å…·ä½“å®ç°:\nlong int syscall (long int syscall_number, long int arg1, long int arg2, long int arg3, long int arg4, long int arg5, long int arg6, long int arg7) { long int ret; ret = INTERNAL_SYSCALL_NCS_CALL (syscall_number, arg1, arg2, arg3, arg4, arg5, arg6, arg7); if (INTERNAL_SYSCALL_ERROR_P (ret)) return __syscall_error (ret); return ret; } è¿™é‡Œæœ‰ä¸ªå® INTERNAL_SYSCALL_ERROR_Pï¼Œå…¶å±•å¼€åæ˜¯ ((unsigned long int) (val) \u0026gt; -4096UL)\nè¿™é‡Œ -4096UL çš„åå…­è¿›åˆ¶æ˜¯ FFFF FFFF FFFF F000\næˆ‘ä»¬å¯ä»¥çœ‹åˆ°å®é™…å†…æ ¸æ€æ‰§è¡Œçš„ syscall çš„è¿”å›å€¼å°±æ˜¯ errnoï¼Œåªä¸è¿‡è¢« libc åŒ…è£…äº†ä¸€ä¸‹\nå°† errno çš„å€¼è®¾ç½®åˆ°äº†çº¿ç¨‹å…¨å±€å˜é‡ __libc_errno ä¸­ï¼Œä¹‹åç”¨æˆ·æ€çš„ errno å®é™…æ˜¯ä¸ªè¯»å– __libc_errno çš„å®\næ€»ç»“ libc æ£€æŸ¥ç³»ç»Ÿè°ƒç”¨æ˜¯å¦å¤±è´¥ï¼Œå¤±è´¥åä¼šè®¾ç½® errnoï¼Œä¹‹åè¿”å›çš„å€¼æ˜¯ -1\nå¯ä»¥çœ‹åˆ° __syscall_error çš„å…·ä½“å®ç°:\nENTRY (__syscall_error) mv t0, ra /* Fall through to __syscall_set_errno. */ END (__syscall_error) /* Non-standard calling convention: argument in a0, return address in t0, and clobber only t1. */ ENTRY (__syscall_set_errno) /* We got here because a0 \u0026lt; 0, but only codes in the range [-4095, -1] represent errors. Otherwise, just return the result normally. */ li t1, -4096 bleu a0, t1, 1f neg a0, a0 #if RTLD_PRIVATE_ERRNO sw a0, rtld_errno, t1 #elif defined(__PIC__) la.tls.ie t1, errno add t1, t1, tp sw a0, 0(t1) #else lui t1, %tprel_hi(errno) add t1, t1, tp, %tprel_add(errno) sw a0, %tprel_lo(errno)(t1) #endif li a0, -1 1:\tjr t0 END (__syscall_set_errno) ","date":"2023-07-08","permalink":"https://sslime336.github.io/post/when-did-errno-been-set/","tags":["c","linux","errno"],"title":"errno åˆ°åº•æ˜¯ä¸ªå•¥"},{"content":" æœ¬æ–‡æºè‡ªæŸä¹ https://www.zhihu.com/question/20482511/answer/15262336\næ‰€è°“å¼ºåˆ¶è½¬æ¢ï¼Œå…¶å®ä¹Ÿåˆ†ä¸åŒçš„ç±»å‹ã€‚ä¸€ä¸ªå¼ºåˆ¶è½¬æ¢è¯­å¥ï¼Œåœ¨ä¸åŒçš„åœºåˆä¸‹ï¼Œæœ‰ä¸åŒçš„å«ä¹‰ã€‚å¤§ä½“ä¸Šæ¥çœ‹ï¼Œåœ¨ C è¯­è¨€é‡Œé¢ï¼Œå¼ºåˆ¶ç±»å‹è½¬æ¢æœ‰ä¸¤ç§å«ä¹‰:\n1ï¼Œå°†ä¸€ä¸ªæ•°æ®ï¼Œå¤åˆ¶ä¸ºå¦å¤–ä¸€ä¸ªæ•°æ®ç±»å‹ï¼Œå¹¶ä¸”ä½¿ç”¨æ–°ç±»å‹çš„æ•°æ®ï¼Œæ­¤æ—¶å¯ä»¥è®¤ä¸ºæ–°ç±»å‹çš„æ•°æ®ï¼Œ åœ¨å†…å­˜ç»“æ„æ–¹é¢ä¸åŸæœ‰æ•°æ®æ²¡æœ‰ä»»ä½•å…³ç³»ï¼Œè¿™æ˜¯å®å®åœ¨åœ¨çš„å‘ç”Ÿäº†è½¬æ¢ï¼Œè€Œä¸”æ‰§è¡Œè¿™ä¸ªè½¬æ¢ç›¸å…³çš„ä»£ç æ˜¯ç¼–è¯‘å™¨ç”Ÿæˆçš„\nä¾‹å¦‚:\nchar c = 'c'; int i = (int) c; åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œå­—ç¬¦ c è¢«è½¬åŒ–æˆäº† intï¼Œä¸¤è€…æ˜¯å®Œå…¨ä¸åŒçš„æ•°æ®ï¼Œå…¶å†…å­˜å ç”¨çš„é•¿åº¦ä¹Ÿå®Œå…¨ä¸åŒ\n2ï¼Œå°†ä¸€ä¸ªæ•°æ®ï¼Œå½“ä½œå¦å¤–ä¸€ä¸ªæ•°æ®ç±»å‹ä½¿ç”¨ï¼Œè®©ç¼–è¯‘å™¨è®¤ä¸ºè¿™å°±æ˜¯å¦å¤–ä¸€ä¸ªæ•°æ®ç±»å‹ï¼Œæ­¤æ—¶æ•°æ®æ²¡æœ‰å‘ç”Ÿä»»ä½•è½¬æ¢ï¼Œ åœ¨è®¡ç®—æœºçš„è§’åº¦æ²¡æœ‰ä»»ä½•äº‹æƒ…å‘ç”Ÿï¼Œä¹Ÿä¸ä¸ºè¿™ä¸ªè½¬æ¢ç”Ÿæˆä»»ä½•ä»£ç ï¼Œåªæ˜¯ç¼–è¯‘å™¨è®¤ä¸ºè¿™ä¸ªè¯­å¥åˆæ³•äº†\nä¾‹å¦‚:\nlong l = 0x10000000L; volatile void *p = (void *) l; åœ¨è¿™å¥è¯ä¸­ï¼Œå˜é‡ l è¢«ç›´æ¥è§†ä¸ºæŒ‡é’ˆ pï¼Œä»å†…å­˜æ•°æ®çš„è§’åº¦æ²¡æœ‰å‘ç”Ÿä»»ä½•è½¬æ¢ï¼Œè¿™ä¸ªè½¬æ¢åªæ˜¯è®©ç¼–è¯‘å™¨è®¤ä¸º è¿™ä¸ªèµ‹å€¼åˆæ³•è€Œå·²\nåœ¨ C++ é‡Œé¢ï¼Œé€šå¸¸ç¬¬äºŒç§ç±»å‹è¢«ç§°ä¸º reinterpret_castï¼Œ è€Œç¬¬ä¸€ç§ç±»å‹å°±ç›´æ¥ä½¿ç”¨æ˜¾å¼ç±»å‹è½¬æ¢å®ç°\nåœ¨ Java é‡Œé¢ï¼Œé€šå¸¸ä¹Ÿä¼šæ ¹æ®ä¸Šä¸‹æ–‡ï¼Œå‡ºç° 1 å’Œ 2 çš„ä¸¤ç§ä¸åŒæƒ…å†µ\n","date":"2023-07-05","permalink":"https://sslime336.github.io/post/the-price-of-type-casting/","tags":["misc"],"title":"å¼ºåˆ¶ç±»å‹è½¬æ¢çš„ä»£ä»·"},{"content":"å‡½æ•°çš„è°ƒç”¨çº¦å®šåŒ…æ‹¬äº†å‡½æ•°çš„å‚æ•°å¦‚ä½•è¢«å‹å…¥æ ˆä¸­ã€å‡½æ•°è°ƒç”¨åç”±è°æ¥æ¢å¤å †æ ˆç­‰é—®é¢˜1\nå¸¸è§çš„è°ƒç”¨çº¦å®š2 è°ƒç”¨çº¦å®šåç§° å¸¸è§åœºæ™¯ å‚æ•°å…¥æ ˆæ–¹å¼ æ ˆå†…æ•°æ®æ¸…é™¤æ–¹å¼ å¤‡æ³¨ __stdcall Windows API é»˜è®¤çš„å‡½æ•°è°ƒç”¨åè®® å‡½æ•°å‚æ•°ç”±å³å‘å·¦å…¥æ ˆ å‡½æ•°è°ƒç”¨ç»“æŸåç”±è¢«è°ƒç”¨å‡½æ•°æ¸…é™¤æ ˆå†…æ•°æ® - __cdecl C/C++ é»˜è®¤çš„å‡½æ•°è°ƒç”¨åè®® å‡½æ•°å‚æ•°ç”±å³å‘å·¦å…¥æ ˆ å‡½æ•°è°ƒç”¨ç»“æŸåç”±å‡½æ•°è°ƒç”¨è€…æ¸…é™¤æ ˆå†…æ•°æ® - __fastcall é€‚ç”¨äºå¯¹æ€§èƒ½è¦æ±‚è¾ƒé«˜çš„åœºåˆ ä»å·¦å¼€å§‹ä¸å¤§äº 4 å­—èŠ‚çš„å‚æ•°æ”¾å…¥ CPU çš„ ECX å’Œ EDX å¯„å­˜å™¨ï¼Œå…¶ä½™å‚æ•°ä»å³å‘å·¦å…¥æ ˆ å‡½æ•°è°ƒç”¨ç»“æŸåç”±è¢«è°ƒç”¨å‡½æ•°æ¸…é™¤æ ˆå†…æ•°æ® - __thiscall C++ ç±»æˆå‘˜å‡½æ•°ç¼ºçœçš„è°ƒç”¨çº¦å®š å‡½æ•°å‚æ•°ç”±å³å‘å·¦å…¥æ ˆ è§ä¸‹æ–‡ è¿™ä¸ªä¸æ˜¯ç¼–è¯‘å™¨å…³é”®å­—ï¼Œåœ¨ C++ ç¼–è¯‘ä¸­ä¸èƒ½è¢«ç¨‹åºå‘˜æŒ‡å®š naked call å¾ˆå°‘è§ï¼Œä¸€èˆ¬ç”¨äºå®æ¨¡å¼é©±åŠ¨ç¨‹åºè®¾è®¡3 - - - __pascal4 Pascal çš„å‡½æ•°è°ƒç”¨æ–¹å¼ï¼Œä¹Ÿå¯ä»¥åœ¨ C/C++ ä¸­ä½¿ç”¨ å‡½æ•°å‚æ•°ç”±å·¦å‘å³å…¥æ ˆ å‡½æ•°è°ƒç”¨ç»“æŸåç”±è¢«è°ƒç”¨å‡½æ•°æ¸…é™¤æ ˆå†…æ•°æ® - __thiscall çœ‹äº†ä¸å°‘åšå®¢ï¼Œä½†è¿˜æ˜¯çœ‹å·¨ç¡¬çš„æ–‡æ¡£æ¯”è¾ƒè¯¦ç»†: https://learn.microsoft.com/zh-cn/cpp/cpp/thiscall?view=msvc-170\nmangle ä¸åŒçš„è§„èŒƒæœ‰ä¸åŒçš„ mangle è§„å®šï¼Œè¿™ä¹Ÿæ˜¯ C å’Œ C++ å‡½æ•°ä¹‹é—´ä¸èƒ½ç›´æ¥è°ƒç”¨çš„åŸå› \næ‰€ä»¥ä¸€èˆ¬ä¼šæœ‰ä¸‹é¢è¿™ç§è¯­æ³•:\nextern \u0026quot;C\u0026quot; { // ... } è¿™æ ·é‡Œé¢çš„å‡½æ•°å£°æ˜æ‰èƒ½è¢« C æ‰€ä½¿ç”¨ï¼Œæˆ–ä½¿ç”¨ C å®šä¹‰çš„å‡½æ•°\nhttps://learn.microsoft.com/zh-cn/cpp/cpp/calling-conventions?view=msvc-170\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nhttps://www.cnblogs.com/yejianyong/p/7506465.html\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nhttps://blog.csdn.net/mlyjqx/article/details/73844565\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nhttps://blog.csdn.net/qq_40851561/article/details/114107965\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"2023-07-05","permalink":"https://sslime336.github.io/post/func-call-convention/","tags":["__stdcall","__fastcall"],"title":"å‡½æ•°è°ƒç”¨çº¦å®š"},{"content":"Rust ä¸­æœ‰ä¸€ä¸ªæ–¹ä¾¿çš„æ³¨è§£ #[linkage]ï¼Œè¿™æ˜¯ä¸€ä¸ªä¸ç¨³å®šçš„ featureï¼Œç½‘ä¸Šå…³äºå®ƒçš„ ä¿¡æ¯åŸºæœ¬æ‰¾ä¸åˆ°ï¼Œåœ¨æˆ‘æœç´¢åŠå¤©åï¼Œåœ¨ Github ä¸Šæ‰¾åˆ°äº†ä¸€ä¸ª tracking issue: rust-lang/rust issue#29603\nç›®å‰ Rust æ”¯æŒçš„é“¾æ¥æ¨¡å‹1 Rust æ˜¯åŸºäº LLVM çš„ï¼Œæ‰€ä»¥ä½¿ç”¨çš„ä¹Ÿæ˜¯ LLVM çš„é“¾æ¥æ¨¡å‹\nmatch name { \u0026quot;appending\u0026quot; =\u0026gt; Some(llvm::AppendingLinkage), \u0026quot;available_externally\u0026quot; =\u0026gt; Some(llvm::AvailableExternallyLinkage), \u0026quot;common\u0026quot; =\u0026gt; Some(llvm::CommonLinkage), \u0026quot;extern_weak\u0026quot; =\u0026gt; Some(llvm::ExternalWeakLinkage), \u0026quot;external\u0026quot; =\u0026gt; Some(llvm::ExternalLinkage), \u0026quot;internal\u0026quot; =\u0026gt; Some(llvm::InternalLinkage), \u0026quot;linkonce\u0026quot; =\u0026gt; Some(llvm::LinkOnceAnyLinkage), \u0026quot;linkonce_odr\u0026quot; =\u0026gt; Some(llvm::LinkOnceODRLinkage), \u0026quot;private\u0026quot; =\u0026gt; Some(llvm::PrivateLinkage), \u0026quot;weak\u0026quot; =\u0026gt; Some(llvm::WeakAnyLinkage), \u0026quot;weak_odr\u0026quot; =\u0026gt; Some(llvm::WeakODRLinkage), _ =\u0026gt; None, } ç›¸å…³çš„å€¼ä¼šè½¬æ¢æˆ LLVM çš„é“¾æ¥ï¼Œè€Œ LLVM ç°åœ¨çš„é“¾æ¥å™¨è¿˜æ²¡æœ‰ç¨³å®šï¼Œç”¨çš„è¿˜æ˜¯ gcc çš„é“¾æ¥å™¨?\ne.g.\n#[linkage = \u0026quot;weak\u0026quot;] #[no_mangle] fn main() -\u0026gt; ! { ... } LLVM ä¸­ä¸åŒçš„é“¾æ¥å±æ€§2 All Global Variables and Functions have one of the following types of linkage:\nprivate\nGlobal values with â€œprivateâ€ linkage are only directly accessible by objects in the current module. In particular, linking code into a module with a private global value may cause the private to be renamed as necessary to avoid collisions. Because the symbol is private to the module, all references can be updated. This doesnâ€™t show up in any symbol table in the object file.\ninternal\nSimilar to private, but the value shows as a local symbol (STB_LOCAL in the case of ELF) in the object file. This corresponds to the notion of the â€˜staticâ€™ keyword in C.\navailable_externally\nGlobals with â€œavailable_externallyâ€ linkage are never emitted into the object file corresponding to the LLVM module. From the linkerâ€™s perspective, an available_externally global is equivalent to an external declaration. They exist to allow inlining and other optimizations to take place given knowledge of the definition of the global, which is known to be somewhere outside the module. Globals with available_externally linkage are allowed to be discarded at will, and allow inlining and other optimizations. This linkage type is only allowed on definitions, not declarations.\nlinkonce\nGlobals with â€œlinkonceâ€ linkage are merged with other globals of the same name when linkage occurs. This can be used to implement some forms of inline functions, templates, or other code which must be generated in each translation unit that uses it, but where the body may be overridden with a more definitive definition later. Unreferenced linkonce globals are allowed to be discarded. Note that linkonce linkage does not actually allow the optimizer to inline the body of this function into callers because it doesnâ€™t know if this definition of the function is the definitive definition within the program or whether it will be overridden by a stronger definition. To enable inlining and other optimizations, use â€œlinkonce_odrâ€ linkage.\nweak\nâ€œweakâ€ linkage has the same merging semantics as linkonce linkage, except that unreferenced globals with weak linkage may not be discarded. This is used for globals that are declared â€œweakâ€ in C source code.\ncommon\nâ€œcommonâ€ linkage is most similar to â€œweakâ€ linkage, but they are used for tentative definitions in C, such as â€œint X;â€ at global scope. Symbols with â€œcommonâ€ linkage are merged in the same way as weak symbols, and they may not be deleted if unreferenced. common symbols may not have an explicit section, must have a zero initializer, and may not be marked â€˜constantâ€™. Functions and aliases may not have common linkage.\nappending\nâ€œappendingâ€ linkage may only be applied to global variables of pointer to array type. When two global variables with appending linkage are linked together, the two global arrays are appended together. This is the LLVM, typesafe, equivalent of having the system linker append together â€œsectionsâ€ with identical names when .o files are linked.\nUnfortunately this doesnâ€™t correspond to any feature in .o files, so it can only be used for variables like llvm.global_ctors which llvm interprets specially.\nextern_weak\nThe semantics of this linkage follow the ELF object file model: the symbol is weak until linked, if not linked, the symbol becomes null instead of being an undefined reference.\nlinkonce_odr, weak_odr\nSome languages allow differing globals to be merged, such as two functions with different semantics. Other languages, such as C++, ensure that only equivalent globals are ever merged (the â€œone definition ruleâ€ â€” â€œODRâ€). Such languages can use the linkonce_odr and weak_odr linkage types to indicate that the global will only be merged with equivalent globals. These linkage types are otherwise the same as their non-odr versions.\nexternal\nIf none of the above identifiers are used, the global is externally visible, meaning that it participates in linkage and can be used to resolve external symbol references.\nIt is illegal for a global variable or function declaration to have any linkage type other than external or extern_weak.\nLLVM å‡½æ•°è°ƒç”¨è§„èŒƒ å…¶ä»–é LLVM è°ƒç”¨è§„èŒƒ\nâ€œcccâ€ - The C calling convention â€œfastccâ€ - The fast calling convention â€œcoldccâ€ - The cold calling convention â€œcc 10â€ - GHC convention â€œcc 11â€ - The HiPE calling convention â€œwebkit_jsccâ€ - WebKitâ€™s JavaScript calling convention â€œanyregccâ€ - Dynamic calling convention for code patching â€œpreserve_mostccâ€ - The PreserveMost calling convention â€œpreserve_allccâ€ - The PreserveAll calling convention â€œcxx_fast_tlsccâ€ - The CXX_FAST_TLS calling convention for access functions â€œtailccâ€ - Tail callable calling convention â€œswiftccâ€ - This calling convention is used for Swift language. â€œswifttailccâ€ â€œcfguard_checkccâ€ - Windows Control Flow Guard (Check mechanism) â€œcc \u0026lt;n\u0026gt;â€ - Numbered convention https://github.com/rust-lang/rust/issues/29603#issuecomment-154123326\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nhttps://llvm.org/docs/LangRef.html#linkage-types\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"2023-07-05","permalink":"https://sslime336.github.io/post/linkage-feature-in-rust/","tags":["linkage","link","unstable","rust"],"title":"Rust ä¸­çš„é“¾æ¥ #[linkage = \"xxx\"]"},{"content":"docker ç°åœ¨é»˜è®¤ä½¿ç”¨ wsl2ï¼Œä½†æ˜¯è¿™é‡Œçš„ wsl2 å¹¶ä¸æ˜¯ç”¨æˆ·è‡ªå·±å®‰è£…çš„ï¼Œè€Œæ˜¯ docker è‡ªå·±å®‰è£…çš„\nè€Œ docker è‡ªå·±å®‰è£…çš„ wsl2 ä¼šé»˜è®¤æ”¾åœ¨ C ç›˜ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦æ‰‹åŠ¨åšä¸€ä¸‹è¿ç§»é˜²æ­¢ C ç›˜çˆ†ç‚¸\næœ‰äº›è¾…åŠ©è¿ç§»çš„è½¯ä»¶å¦‚: LxRunOffline.exe æ˜¯ä¸èƒ½å¤Ÿè¿ç§» docker å®‰è£…çš„ wsl2 çš„ï¼Œåªèƒ½ä½œç”¨äº ç”¨æˆ·è‡ªå·±å®‰è£…çš„ wsl2\næ‰€ä»¥æˆ‘ä»¬éœ€è¦ä»¥ä¸‹çš„å‘½ä»¤1(PowerShell æˆ–è€… CMD)2:\n# å…³é—­æ‰€æœ‰å‘è¡Œç‰ˆï¼š wsl --shutdown # å°†docker-desktop-dataå¯¼å‡ºåˆ°D:\\SoftwareData\\wsl\\docker-desktop-data\\docker-desktop-data.tarï¼ˆæ³¨æ„ï¼ŒåŸæœ‰çš„docker imagesä¸ä¼šä¸€èµ·å¯¼å‡ºï¼‰ wsl --export docker-desktop-data D:\\SoftwareData\\wsl\\docker-desktop-data\\docker-desktop-data.tar # æ³¨é”€ docker-desktop-data wsl --unregister docker-desktop-data # é‡æ–°å¯¼å…¥ docker-desktop-data åˆ°è¦å­˜æ”¾çš„æ–‡ä»¶å¤¹ï¼šD:\\SoftwareData\\wsl\\docker-desktop-data\\ wsl --import docker-desktop-data D:\\SoftwareData\\wsl\\docker-desktop-data\\ D:\\SoftwareData\\wsl\\docker-desktop-data\\docker-desktop-data.tar --version 2 https://www.cnblogs.com/xhznl/p/13184398.html\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nhttps://github.com/docker/for-win/issues/7348\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"2023-07-04","permalink":"https://sslime336.github.io/post/docker-in-disk-c/","tags":["docker"],"title":"Docker ä½¿ç”¨ WSL2 åƒæ»¡ C ç›˜ç©ºé—´"},{"content":"æœ¬æ–‡å‡å®šæ‚¨å¯¹ Nim å·²ç»æœ‰ä¸€å®šçš„äº†è§£ï¼Œæœ¬æ–‡å¹¶éé›¶åŸºç¡€æ•™ç¨‹\nå®‰è£…ğŸ”­ å»ºè®®çš„å®‰è£…å§¿åŠ¿: ä½¿ç”¨ choosenim\nWindowsğŸ–¥ï¸ ä»è¿™é‡Œ https://github.com/dom96/choosenim/releases ä¸‹è½½å‹ç¼©åŒ…(.zip)ï¼Œä¸è¦ä¸‹è½½ .exe\nUnixğŸµ [Optional] ä»£è¡¨å¯é€‰\n[CHOOSENIM_CHOOSE_VERSION=stable] curl https://nim-lang.org/choosenim/init.sh -sSf | sh æˆ–è€…\n[CHOOSENIM_CHOOSE_VERSION=stable] wget -qO - https://nim-lang.org/choosenim/init.sh | sh *å¯ä»¥é€šè¿‡ç¯å¢ƒå˜é‡ CHOOSENIM_CHOOSE_VERSION æ¥æŒ‡å®šå®‰è£…çš„ç‰ˆæœ¬ï¼Œé»˜è®¤æ˜¯æœ€æ–°çš„å‘è¡Œç‰ˆ\nNote: Nim ä¹Ÿæœ‰ç±»ä¼¼äº Rust çš„ nightly æ„å»ºï¼Œè¿™ä¸ªæ„å»ºæ˜¯åŸºäº devel çš„.\n*Nim è™½ç„¶å·²ç»æœ‰ç›¸å½“ä¸€æ®µæ—¶é—´çš„å‘å±•ï¼Œä½†å®ƒä»ç„¶æ˜¯ä¸€ä¸ªå°ä¼—çš„ç¤¾åŒºï¼Œæ‰€ä»¥æˆ‘ä¸ªäººå¹¶ä¸å»ºè®®ä½¿ç”¨æœ€æ–°çš„ nightly(devel) æ„å»ºï¼Œå› ä¸ºæ‚¨å¯èƒ½ä¼šæ”¶è·ä¸€äº›æ— æ³•ç«‹åˆ»è§£å†³çš„ bug\né…ç½®âš™ï¸ choosenim ğŸ”§ choosenim ä¼šé»˜è®¤å®‰è£…åˆ° ~/.choosenim ä¸­ï¼Œåœ¨ Windows ä¸Šæ˜¯ C:\\User\\\u0026lt;Username\u0026gt;\\.\nä¹‹åå„ä¸ªç‰ˆæœ¬çš„å·¥å…·é“¾ä¼šå®‰è£…è¿™ä¸ªç›®å½•ï¼Œchoosenim ä¹Ÿæä¾›äº† --choosenimDir æ¥æŒ‡å®šå…¶å®‰è£…ä½ç½®ï¼Œæœ‰å…´è¶£çš„å¯ä»¥è‡ªå·±è¯•ä¸€è¯•.\nnimble ğŸ“¦ nimble ç±»ä¼¼äº Rust çš„ cargoï¼Œæ˜¯ Nim çš„å®˜æ–¹åŒ…ç®¡ç†å™¨ï¼Œåœ¨é€šè¿‡ choosenim å®‰è£…çš„æ—¶å€™ä¼šä¸€å—å®‰è£…å¥½.\nnimble çš„é»˜è®¤å®‰è£…è·¯å¾„æ˜¯ ~/.nimble(è¯·è‡ªè¡Œç¿»è¯‘æˆ Windows ä¸Šçš„ç›¸åº”ç›®å½•ğŸ˜‹)\nå¦‚æœæœ‰éœ€è¦ï¼Œå¯ä»¥é€šè¿‡é…ç½®æ–‡ä»¶æ¥ä¿®æ”¹é»˜è®¤çš„åŒ…å®‰è£…è·¯å¾„1:\nWindows: C:\\Users\\\u0026lt;Username\u0026gt;\\AppData\\Roaming\\nimble\\nimble.ini Unix: ~/.config/nimble/nimble.ini ä¸¾ä¸ªæ —å­ğŸŒ°:\n# è¿™æ˜¯æˆ‘ä¸ªäººçš„é…ç½® httpProxy = r\u0026quot;127.0.0.1:7890\u0026quot; # ä¸‹è½½ä¾èµ–ä½¿ç”¨çš„ä»£ç† nimbleDir = r\u0026quot;E:\\.nimble\u0026quot; # é»˜è®¤ä¸‹è½½/å®‰è£…çš„åŒ…æ”¾åˆ° E ç›˜ nim.cfg ğŸ¤– æ¥ä¸‹æ¥æˆ‘ä»¬éœ€è¦é…ç½® Nim çš„ç¼–è¯‘å™¨ï¼Œè¿™ä¸ªéƒ¨åˆ†ä¹‹æ‰€ä»¥å­˜åœ¨æ˜¯å› ä¸º Nim å½“å‰çš„ç¨³å®šç‰ˆ(æ˜¨å¤©è¿˜æ˜¯ä»Šå¤©æ¥ç€ï¼Œåˆšä» 1.6.12 æ›´æ–°åˆ° 1.6.14)ä»ç„¶ä½¿ç”¨çš„æ˜¯å¼•ç”¨è®¡æ•°çš„ GC(refc)ï¼Œè€Œéé«˜æ•ˆçš„ ARC/ORC\nä½ å¯ä»¥åœ¨ ~/.choosenim/toolchains/ ä¸­æ‰¾åˆ°ä½ æ­£å®é™…ä½¿ç”¨çš„ Nim ç‰ˆæœ¬ï¼Œä¹‹åå¯ä»¥ä¿®æ”¹å…¶é…ç½®æ–‡ä»¶ ./nim-1.6.14/config/nim.cfg:\n# åŒç†ï¼Œé™„ä¸Šæˆ‘çš„é…ç½®ï¼Œåªéœ€æ‰¾ä¸ªåœ°æ–¹åŠ ä¸Šè¿™ä¸ªå³å¯ # -------------------------------------------------------------------------- # # User defined by sslime336 # # -------------------------------------------------------------------------- # cc = clang # ä½¿ç”¨ LLVM è€Œéä¼ ç»Ÿ GCCï¼Œå› ä¸ºæœ‰äº›åŒ…ä¼šä¾èµ– libclangï¼Œè™½ç„¶å¯ä»¥ç›´æ¥æä¾›ç»™ # GCC è¿™ä¸ªåº“ï¼Œä½†ä½¿ç”¨ LLVM ç›¸å¯¹äº GCC ä¼šå¸¦æ¥æ›´å¥½çš„æ€§èƒ½ --gc:arc # ä½¿ç”¨ ARC. # ORC è™½ç„¶å¸¦æ¥äº†å¾ªç¯å¼•ç”¨å†…å­˜æ³„éœ²çš„æ¶ˆé™¤ï¼Œä½†æ˜¯ä¹Ÿå¼•å…¥çš„å¤§å¤šæ•°æ—¶å€™ä¸å¿…è¦çš„æ€§èƒ½æŸè€— # æˆ‘ä»¬éœ€è¦å°†ä¿®æ”¹åçš„ `nimble` ä½ç½®æ·»åŠ è¿›æ¥ï¼Œä¸ç„¶ä¼šæ‰¾ä¸åˆ°ä¾èµ– nimblepath=r\u0026quot;E:\\.nimble\\pkgs\u0026quot; nimblepath=r\u0026quot;E:\\.nimble\\pkgs2\u0026quot; # è¿™é‡Œæˆ‘ä»¬æ ¹æ®ä¸åŒçš„æ„å»ºæ–¹å¼ï¼Œå¦‚ -d:release, -d:dangerï¼Œåœ¨æŒ‡å®šä½ç½®ç”Ÿæˆå¸¦æœ‰åç¼€æ ‡è®°çš„ç¼“å­˜ # *_r è¡¨ç¤º release çš„ç¼“å­˜, *_rd æ˜¯ dangerï¼Œ*_d æ˜¯é»˜è®¤çš„ debug æ„å»ºçš„ç¼“å­˜ @if release: nimcache = r\u0026quot;E:\\.cache\\nimcache\\${projectName}_r\u0026quot; @elif danger: nimcache = r\u0026quot;E:\\.cache\\nimcache\\${projectName}_rd\u0026quot; @else # éœ€è¦æé†’ä¸€å¥çš„æ˜¯ï¼Œè™½ç„¶ nimc é»˜è®¤æ˜¯ debug æ„å»ºï¼Œä½†å¦‚æœä¸æŒ‡å®š -d:debugï¼Œæ˜¯ä¸ä¼šèµ°åˆ° # @elif debug: ä¸­çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬ç›´æ¥ä½¿ç”¨ @else æ¥ workaround nimcache = r\u0026quot;E:\\.cache\\nimcache\\${projectName}_d\u0026quot; @end # ---------------------- End of sslime336's define ------------------------- è¡Œäº†ï¼Œåˆ°è¿™é‡Œå°±å·®ä¸å¤šäº†ï¼Œç°åœ¨å¯ä»¥:\ntouch helloworld.nim and write some code use nimble init [pkgName] to do whatever you want æœªå®Œå¾…ç»­\u0026hellip; https://github.com/nim-lang/nimble#configuration\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"2023-06-28","permalink":"https://sslime336.github.io/post/start-nim-all-in-one/","tags":null,"title":"Nim ä¸€æœ¬é€š(bushi)"},{"content":"é¦–å…ˆè¦è¯´çš„æ˜¯ï¼Œå†…å­˜æ’åºç›¸å¯¹æ¥è¯´æ¯”è¾ƒåº•å±‚ï¼Œå¯¹äºä¸åŒçš„ CPU ç¡¬ä»¶è®¾è®¡éƒ½æœ‰å¯èƒ½ä¸åŒ\nMemory Ordering é’ˆå¯¹çš„æ˜¯å¤šæ ¸(å¤šçº¿ç¨‹)åŸå­æ“ä½œçš„å†…å­˜è¿ç»­æ€§(Coherence)å’Œä¸€è‡´æ€§(Consitency)é—®é¢˜\nCoherence å®šä¹‰äº†ä¸€ä¸ªè¯»æ“ä½œèƒ½è·å¾—ä»€ä¹ˆæ ·çš„å€¼1 Consitency å®šä¹‰äº†ä½•æ—¶ä¸€ä¸ªå†™æ“ä½œçš„å€¼ä¼šè¢«è¯»æ“ä½œè·å¾—ã€‚ ä¸ºä»€ä¹ˆä¼šå‡ºç°å†…å­˜çš„ä¸€è‡´æ€§/è¿ç»­æ€§é—®é¢˜ æˆ‘ä»¬çŸ¥é“ CPU è®¿é—®ä¸»å­˜éœ€è¦çš„å¼€é”€éå¸¸å¤§ï¼ˆä¸Š 100 ä¸ª cyclesï¼‰ï¼Œå¦‚æœ CPU æƒ³å­˜å‚¨ä¸€ä¸ªæ•°æ®åˆ° memory è€Œè¯¥æ•°æ®åˆä¸åœ¨ data cache ä¸­ï¼Œåˆ™è¿™ä¸ªè¿‡ç¨‹æ˜¯ç›¸å½“è€—æ—¶çš„ï¼Œå¤§å¤§åœ°é™ä½äº† CPU æ€§èƒ½\nä¸ºäº†è¿›ä¸€æ­¥åŠ å¿«å†…å­˜è®¿é—®é€Ÿåº¦ï¼ŒCPU è®¾è®¡ä¸­å¼•å…¥äº† store buffer è¿™ä¸ªéƒ¨ä»¶ï¼Œstore buffer æ˜¯ä½äºæ‰§è¡Œå•å…ƒ(æ¯”å¦‚æµ®ç‚¹æ‰§è¡Œå•å…ƒ FPU, ç®—æœ¯é€»è¾‘å•å…ƒ ALU ç­‰)ä¸ data cache ä¹‹é—´çš„å°ä¸€å—å­˜å‚¨å•å…ƒ\nä½¿ç”¨ store buffer çš„å¥½å¤„ä¸ä»…åœ¨äºåŠ å¿«å­˜å‚¨çš„é€Ÿåº¦ï¼Œå¦å¤–è¿˜å¯ä»¥åˆ©ç”¨ store buffer å®ç°ä¹±åºæ‰§è¡Œ ä»¥åŠå®ç°æ¨æ–­æ‰§è¡Œ(speculative execution)å¤±è´¥åçš„å›é€€ roll backï¼Œç­‰2\nä¸‹é¢æ˜¯ Rust å®˜æ–¹æ–‡æ¡£ä¸­çš„å†…å­˜é¡ºåºï¼Œæ ¹æ®å®˜ç½‘æç¤ºï¼Œè¿™é‡Œå¹¶ä¸å…¨:\nNon-exhaustive enums could have additional variants added in future. Therefore, when matching against variants of non-exhaustive enums, an extra wildcard arm must be added to account for any future variants.\nåŸå­å†…å­˜é¡ºåº3 Relaxed\næ²¡æœ‰é¡ºåºçº¦æŸï¼Œåªæ˜¯åŸå­æ“ä½œ\nRelease/Acquire\nè¿™é‡Œ Release å¯¹åº”å†™(store)æ“ä½œï¼ŒAcquire å¯¹åº”è¯»(load)æ“ä½œ\nè¿™ä¸¤è¿™æ˜¯é…åˆç€ä½¿ç”¨çš„\nå½“ä¸€ä¸ªçº¿ç¨‹ store with Release å†™åŸå­ç±»å‹å¯¹è±¡, è€Œæœ‰å¦ä¸€ä¸ªçº¿ç¨‹ load with Acquire åº¦åŸå­ç±»å‹å¯¹è±¡æ—¶, é‚£ä¹ˆåœ¨å†™åŠå†™ä¹‹å‰çš„æ‰€æœ‰å†™åŸå­æ“ä½œéƒ½æ˜¯å‘ç”Ÿåœ¨å¦ä¸€ä¸ªçº¿ç¨‹ä¸­è¯»è¯¥åŸå­ç±»å‹ä¹‹åçš„æ‰€æœ‰è¯»åŸå­æ“ä½œä¹‹å‰\nAcqRel\nå’Œå‰è€…ç›¸åŒï¼Œå¯ä»¥çœ‹åšä¸€ç§ç®€å†™ï¼Œå¯¹äºè¯»(load)é‡‡ç”¨ Acquireï¼Œå¯¹äºå†™(store)é‡‡ç”¨ Release\nSeqCst\nè‹¥æŸä¸€åŸå­ç±»å‹å¯¹è±¡åœ¨ä¸åŒçº¿ç¨‹ä¸­ä½¿ç”¨ SeqCst è¯»å†™, é‚£ä¹ˆè¯¥åŸå­æ“ä½œä¹‹å‰çš„æ‰€æœ‰è¯»å†™åŸå­æ“ä½œéƒ½å…ˆäºè¯¥åŸå­æ“ä½œä¹‹åçš„è¯»å†™æ“ä½œ\nFurion W. åœ¨å›ç­”\u0026quot;å¦‚ä½•ç†è§£ C++11 çš„å…­ç§ memory orderï¼Ÿ\u0026quot;. https://www.zhihu.com/question/24301047/answer/83422523\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nshawn. å†…å­˜ä¸€è‡´æ€§(Memory Consistency). https://zhuanlan.zhihu.com/p/422848235?utm_id=0\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nmengsuenyan. Rust Ordering è¯­ä¹‰ç†è§£. https://www.cnblogs.com/mengsuenyan/p/13043691.html\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"2023-06-13","permalink":"https://sslime336.github.io/post/memory-order/","tags":["memory order","todo"],"title":"Rust Memory Ordering"},{"content":"å¯ä»¥é€šè¿‡ #[cfg(debug_assertions)] å’Œ #[cfg(not(debug_assertions))] æ¥æ§åˆ¶\nReference: https://doc.rust-lang.org/reference/conditional-compilation.html#debug_assertions\nfn main() { #[cfg(not(debug_assertions))] println!(\u0026quot;release mode build\u0026quot;); #[cfg(debug_assertions)] println!(\u0026quot;debug mode build\u0026quot;); } # è¾“å‡º: release mode build cargo r --release # è¾“å‡º: debug mode build cargo r ","date":"2023-06-13","permalink":"https://sslime336.github.io/post/rust-notes1/","tags":["rust"],"title":"Rust é…ç½®åœ¨ debug/release æ„å»ºä¸­çš„ä¸åŒè¡¨ç°"},{"content":"ä»Šå¤©åœ¨å†™æ±‡ç¼–çš„æ—¶å€™å‘ç°æˆ‘çš„ VSC å‡ºç°äº†ä¸€ç§æ¶å¿ƒçš„ tab è¡¥å…¨ç°è±¡\nTABLE: DB 3FH,06H,5BH,4FH,66H ; 0 1 2 3 4 ^ | å½“æˆ‘ç´§è´´ç€ 0 æ•²å‡» tab çš„æ—¶å€™ï¼Œå®ƒæ²¡æœ‰æ’å…¥åˆ¶è¡¨ç¬¦æˆ–æ˜¯ç©ºæ ¼ï¼Œè€Œæ˜¯æŠŠ 0 è¡¥å…¨æˆäº† 0000Hï¼Œæˆ‘çŸ¥é“è¿™æ˜¯æˆ‘ä¹‹å‰è®¾ç½®çš„è¡¥å…¨é€‰é¡¹ï¼Œä½†æ˜¯å¿˜äº†åœ¨å“ªäº†ï¼Œç°åœ¨è®°å½•ä¸€ä¸‹å…å¾—å†çŠ¯å‚»(x)\nSettings \u0026ndash;\u0026gt; æœç´¢ tab \u0026ndash;\u0026gt; æ‰¾åˆ° Editor: Tab Completion \u0026ndash;\u0026gt; è®¾ç½®ä¸º off\nä»”ç»†çœ‹ä¸€ä¸‹ on çš„æè¿°:\nTab complete will insert the best matching suggestion when pressing tab.\næ‰€ä»¥è¿˜æ˜¯ä¸è¦ä¹±è®¾ç½®çœ‹èµ·æ¥å¾ˆ nice ä½†ä¸ç‰¹åˆ«éœ€è¦çš„ feature äº†å§ qwq\n","date":"2023-06-05","permalink":"https://sslime336.github.io/post/vsc-tab-completiom/","tags":["vscode","code-completion"],"title":"VSCode tab completion"},{"content":"åœ¨ git commit çš„æ—¶å€™ï¼Œé»˜è®¤çš„ç¼–è¾‘å™¨æ˜¯ GNU nanoï¼Œä½†å¯¹äºé‡åº¦ vim ç”¨æˆ·æ¥è¯´ï¼Œè¿˜æ˜¯ vim ç”¨çš„é¡ºæ‰‹(x)\nè¿™æ—¶å€™å¯ä»¥é€šè¿‡ git config --global core.editor vi æ¥ä¿®æ”¹å…¨å±€é»˜è®¤çš„ commit ç¼–è¾‘å™¨\nvi å’Œ vim çš„åŒºåˆ«? vim å…¼å®¹ viï¼Œæ˜¯åè€…çš„å‡çº§ç‰ˆ\nvimçš„è¿™äº›ä¼˜åŠ¿ä¸»è¦ä½“ç°åœ¨ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š\n1ã€å¤šçº§æ’¤æ¶ˆ\næˆ‘ä»¬çŸ¥é“åœ¨vié‡Œï¼ŒæŒ‰ uåªèƒ½æ’¤æ¶ˆä¸Šæ¬¡å‘½ä»¤ï¼Œè€Œåœ¨vimé‡Œå¯ä»¥æ— é™åˆ¶çš„æ’¤æ¶ˆã€‚\n2ã€æ˜“ç”¨æ€§\nviåªèƒ½è¿è¡Œäºunixä¸­ï¼Œè€Œvimä¸ä»…å¯ä»¥è¿è¡Œäºunix,windows ,macç­‰å¤šæ“ä½œå¹³å°ã€‚\n3ã€è¯­æ³•åŠ äº®\nvimå¯ä»¥ç”¨ä¸åŒçš„é¢œè‰²æ¥åŠ äº®ä½ çš„ä»£ç ã€‚\n4ã€å¯è§†åŒ–æ“ä½œ\nå°±æ˜¯è¯´vimä¸ä»…å¯ä»¥åœ¨ç»ˆç«¯è¿è¡Œï¼Œä¹Ÿå¯ä»¥è¿è¡Œäºx windowã€ mac osã€ windowsã€‚\n\u0026hellip;\u0026hellip;\nviå’Œviméƒ½æ˜¯Linuxä¸­çš„ç¼–è¾‘å™¨ï¼Œä¸åŒçš„æ˜¯vimæ¯”è¾ƒé«˜çº§ï¼Œå¯ä»¥è§†ä¸ºviçš„å‡çº§ç‰ˆæœ¬ã€‚viä½¿ç”¨äºæ–‡æœ¬ç¼–è¾‘ï¼Œä½†æ˜¯vimæ›´é€‚ç”¨äºcoding\næ‘˜è‡ª: https://www.cnblogs.com/KiraEXA/p/5994078.html\n","date":"2023-06-04","permalink":"https://sslime336.github.io/post/change-git-default-editor/","tags":["git","vi/vim","GNU nano"],"title":"æ›´æ”¹ git é»˜è®¤ç¼–è¾‘å™¨"},{"content":"Linux å¤‡å¿˜å½•(bushi)\nLinux å„ç›®å½•ä½œç”¨ æ‘˜å½•è‡ª: https://www.runoob.com/linux/linux-system-contents.html\n/bin:\nbin æ˜¯ Binaries (äºŒè¿›åˆ¶æ–‡ä»¶) çš„ç¼©å†™, è¿™ä¸ªç›®å½•å­˜æ”¾ç€æœ€ç»å¸¸ä½¿ç”¨çš„å‘½ä»¤ã€‚\n/boot:\nè¿™é‡Œå­˜æ”¾çš„æ˜¯å¯åŠ¨ Linux æ—¶ä½¿ç”¨çš„ä¸€äº›æ ¸å¿ƒæ–‡ä»¶ï¼ŒåŒ…æ‹¬ä¸€äº›è¿æ¥æ–‡ä»¶ä»¥åŠé•œåƒæ–‡ä»¶ã€‚\n/dev :\ndev æ˜¯ Device(è®¾å¤‡) çš„ç¼©å†™, è¯¥ç›®å½•ä¸‹å­˜æ”¾çš„æ˜¯ Linux çš„å¤–éƒ¨è®¾å¤‡ï¼Œåœ¨ Linux ä¸­è®¿é—®è®¾å¤‡çš„æ–¹å¼å’Œè®¿é—®æ–‡ä»¶çš„æ–¹å¼æ˜¯ç›¸åŒçš„ã€‚\n/etc:\netc æ˜¯ Etcetera(ç­‰ç­‰) çš„ç¼©å†™,è¿™ä¸ªç›®å½•ç”¨æ¥å­˜æ”¾æ‰€æœ‰çš„ç³»ç»Ÿç®¡ç†æ‰€éœ€è¦çš„é…ç½®æ–‡ä»¶å’Œå­ç›®å½•ã€‚\n/home:\nç”¨æˆ·çš„ä¸»ç›®å½•ï¼Œåœ¨ Linux ä¸­ï¼Œæ¯ä¸ªç”¨æˆ·éƒ½æœ‰ä¸€ä¸ªè‡ªå·±çš„ç›®å½•ï¼Œä¸€èˆ¬è¯¥ç›®å½•åæ˜¯ä»¥ç”¨æˆ·çš„è´¦å·å‘½åçš„ï¼Œå¦‚ä¸Šå›¾ä¸­çš„ aliceã€bob å’Œ eveã€‚\n/lib:\nlib æ˜¯ Library(åº“) çš„ç¼©å†™è¿™ä¸ªç›®å½•é‡Œå­˜æ”¾ç€ç³»ç»Ÿæœ€åŸºæœ¬çš„åŠ¨æ€è¿æ¥å…±äº«åº“ï¼Œå…¶ä½œç”¨ç±»ä¼¼äº Windows é‡Œçš„ DLL æ–‡ä»¶ã€‚å‡ ä¹æ‰€æœ‰çš„åº”ç”¨ç¨‹åºéƒ½éœ€è¦ç”¨åˆ°è¿™äº›å…±äº«åº“ã€‚\n/lost+found:\nè¿™ä¸ªç›®å½•ä¸€èˆ¬æƒ…å†µä¸‹æ˜¯ç©ºçš„ï¼Œå½“ç³»ç»Ÿéæ³•å…³æœºåï¼Œè¿™é‡Œå°±å­˜æ”¾äº†ä¸€äº›æ–‡ä»¶ã€‚\n/media:\nlinux ç³»ç»Ÿä¼šè‡ªåŠ¨è¯†åˆ«ä¸€äº›è®¾å¤‡ï¼Œä¾‹å¦‚Uç›˜ã€å…‰é©±ç­‰ç­‰ï¼Œå½“è¯†åˆ«åï¼ŒLinux ä¼šæŠŠè¯†åˆ«çš„è®¾å¤‡æŒ‚è½½åˆ°è¿™ä¸ªç›®å½•ä¸‹ã€‚\n/mnt:\nç³»ç»Ÿæä¾›è¯¥ç›®å½•æ˜¯ä¸ºäº†è®©ç”¨æˆ·ä¸´æ—¶æŒ‚è½½åˆ«çš„æ–‡ä»¶ç³»ç»Ÿçš„ï¼Œæˆ‘ä»¬å¯ä»¥å°†å…‰é©±æŒ‚è½½åœ¨ - /mnt/ ä¸Šï¼Œç„¶åè¿›å…¥è¯¥ç›®å½•å°±å¯ä»¥æŸ¥çœ‹å…‰é©±é‡Œçš„å†…å®¹äº†ã€‚\n/opt:\nopt æ˜¯ optional(å¯é€‰) çš„ç¼©å†™ï¼Œè¿™æ˜¯ç»™ä¸»æœºé¢å¤–å®‰è£…è½¯ä»¶æ‰€æ‘†æ”¾çš„ç›®å½•ã€‚æ¯”å¦‚ä½ å®‰è£…ä¸€ä¸ªORACLEæ•°æ®åº“åˆ™å°±å¯ä»¥æ”¾åˆ°è¿™ä¸ªç›®å½•ä¸‹ã€‚é»˜è®¤æ˜¯ç©ºçš„ã€‚\n/proc:\nproc æ˜¯ Processes(è¿›ç¨‹) çš„ç¼©å†™ï¼Œ- /proc æ˜¯ä¸€ç§ä¼ªæ–‡ä»¶ç³»ç»Ÿï¼ˆä¹Ÿå³è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿï¼‰ï¼Œå­˜å‚¨çš„æ˜¯å½“å‰å†…æ ¸è¿è¡ŒçŠ¶æ€çš„ä¸€ç³»åˆ—ç‰¹æ®Šæ–‡ä»¶ï¼Œè¿™ä¸ªç›®å½•æ˜¯ä¸€ä¸ªè™šæ‹Ÿçš„ç›®å½•ï¼Œå®ƒæ˜¯ç³»ç»Ÿå†…å­˜çš„æ˜ å°„ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ç›´æ¥è®¿é—®è¿™ä¸ªç›®å½•æ¥è·å–ç³»ç»Ÿä¿¡æ¯ã€‚\nè¿™ä¸ªç›®å½•çš„å†…å®¹ä¸åœ¨ç¡¬ç›˜ä¸Šè€Œæ˜¯åœ¨å†…å­˜é‡Œï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ç›´æ¥ä¿®æ”¹é‡Œé¢çš„æŸäº›æ–‡ä»¶ï¼Œæ¯”å¦‚å¯ä»¥é€šè¿‡ä¸‹é¢çš„å‘½ä»¤æ¥å±è”½ä¸»æœºçš„pingå‘½ä»¤ï¼Œä½¿åˆ«äººæ— æ³•pingä½ çš„æœºå™¨:\necho 1 \u0026gt; - /proc/sys/net/ipv4/icmp_echo_ignore_all /root:\nè¯¥ç›®å½•ä¸ºç³»ç»Ÿç®¡ç†å‘˜ï¼Œä¹Ÿç§°ä½œè¶…çº§æƒé™è€…çš„ç”¨æˆ·ä¸»ç›®å½•ã€‚\n/sbin:\ns å°±æ˜¯ Super User çš„æ„æ€ï¼Œæ˜¯ Superuser Binaries (è¶…çº§ç”¨æˆ·çš„äºŒè¿›åˆ¶æ–‡ä»¶) çš„ç¼©å†™ï¼Œè¿™é‡Œå­˜æ”¾çš„æ˜¯ç³»ç»Ÿç®¡ç†å‘˜ä½¿ç”¨çš„ç³»ç»Ÿç®¡ç†ç¨‹åºã€‚\n/selinux:\nè¿™ä¸ªç›®å½•æ˜¯ Redhat- /CentOS æ‰€ç‰¹æœ‰çš„ç›®å½•ï¼ŒSelinux æ˜¯ä¸€ä¸ªå®‰å…¨æœºåˆ¶ï¼Œç±»ä¼¼äº windows çš„é˜²ç«å¢™ï¼Œä½†æ˜¯è¿™å¥—æœºåˆ¶æ¯”è¾ƒå¤æ‚ï¼Œè¿™ä¸ªç›®å½•å°±æ˜¯å­˜æ”¾selinuxç›¸å…³çš„æ–‡ä»¶çš„ã€‚\n/srv:\nè¯¥ç›®å½•å­˜æ”¾ä¸€äº›æœåŠ¡å¯åŠ¨ä¹‹åéœ€è¦æå–çš„æ•°æ®ã€‚\n/sys:\nè¿™æ˜¯ Linux2.6 å†…æ ¸çš„ä¸€ä¸ªå¾ˆå¤§çš„å˜åŒ–ã€‚è¯¥ç›®å½•ä¸‹å®‰è£…äº† 2.6 å†…æ ¸ä¸­æ–°å‡ºç°çš„ä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿ sysfs ã€‚\nsysfs æ–‡ä»¶ç³»ç»Ÿé›†æˆäº†ä¸‹é¢3ç§æ–‡ä»¶ç³»ç»Ÿçš„ä¿¡æ¯:é’ˆå¯¹è¿›ç¨‹ä¿¡æ¯çš„ proc æ–‡ä»¶ç³»ç»Ÿã€é’ˆå¯¹è®¾å¤‡çš„ devfs æ–‡ä»¶ç³»ç»Ÿä»¥åŠé’ˆå¯¹ä¼ªç»ˆç«¯çš„ devpts æ–‡ä»¶ç³»ç»Ÿã€‚\nè¯¥æ–‡ä»¶ç³»ç»Ÿæ˜¯å†…æ ¸è®¾å¤‡æ ‘çš„ä¸€ä¸ªç›´è§‚åæ˜ ã€‚\nå½“ä¸€ä¸ªå†…æ ¸å¯¹è±¡è¢«åˆ›å»ºçš„æ—¶å€™ï¼Œå¯¹åº”çš„æ–‡ä»¶å’Œç›®å½•ä¹Ÿåœ¨å†…æ ¸å¯¹è±¡å­ç³»ç»Ÿä¸­è¢«åˆ›å»ºã€‚\n/tmp:\ntmp æ˜¯ temporary(ä¸´æ—¶) çš„ç¼©å†™è¿™ä¸ªç›®å½•æ˜¯ç”¨æ¥å­˜æ”¾ä¸€äº›ä¸´æ—¶æ–‡ä»¶çš„ã€‚\n/usr:\nusr æ˜¯ unix shared resources(å…±äº«èµ„æº) çš„ç¼©å†™ï¼Œè¿™æ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„ç›®å½•ï¼Œç”¨æˆ·çš„å¾ˆå¤šåº”ç”¨ç¨‹åºå’Œæ–‡ä»¶éƒ½æ”¾åœ¨è¿™ä¸ªç›®å½•ä¸‹ï¼Œç±»ä¼¼äº windows ä¸‹çš„ program files ç›®å½•ã€‚\n/usr/bin:\nç³»ç»Ÿç”¨æˆ·ä½¿ç”¨çš„åº”ç”¨ç¨‹åºã€‚\n/usr/sbin:\nè¶…çº§ç”¨æˆ·ä½¿ç”¨çš„æ¯”è¾ƒé«˜çº§çš„ç®¡ç†ç¨‹åºå’Œç³»ç»Ÿå®ˆæŠ¤ç¨‹åºã€‚\n/usr/src:\nå†…æ ¸æºä»£ç é»˜è®¤çš„æ”¾ç½®ç›®å½•ã€‚\n/var:\nvar æ˜¯ variable(å˜é‡) çš„ç¼©å†™ï¼Œè¿™ä¸ªç›®å½•ä¸­å­˜æ”¾ç€åœ¨ä¸æ–­æ‰©å……ç€çš„ä¸œè¥¿ï¼Œæˆ‘ä»¬ä¹ æƒ¯å°†é‚£äº›ç»å¸¸è¢«ä¿®æ”¹çš„ç›®å½•æ”¾åœ¨è¿™ä¸ªç›®å½•ä¸‹ã€‚åŒ…æ‹¬å„ç§æ—¥å¿—æ–‡ä»¶ã€‚\n/run:\næ˜¯ä¸€ä¸ªä¸´æ—¶æ–‡ä»¶ç³»ç»Ÿï¼Œå­˜å‚¨ç³»ç»Ÿå¯åŠ¨ä»¥æ¥çš„ä¿¡æ¯ã€‚å½“ç³»ç»Ÿé‡å¯æ—¶ï¼Œè¿™ä¸ªç›®å½•ä¸‹çš„æ–‡ä»¶åº”è¯¥è¢«åˆ æ‰æˆ–æ¸…é™¤ã€‚å¦‚æœä½ çš„ç³»ç»Ÿä¸Šæœ‰ /var/run ç›®å½•ï¼Œåº”è¯¥è®©å®ƒæŒ‡å‘ runã€‚\nåœ¨ Linux ç³»ç»Ÿä¸­ï¼Œæœ‰å‡ ä¸ªç›®å½•æ˜¯æ¯”è¾ƒé‡è¦çš„ï¼Œå¹³æ—¶éœ€è¦æ³¨æ„ä¸è¦è¯¯åˆ é™¤æˆ–è€…éšæ„æ›´æ”¹å†…éƒ¨æ–‡ä»¶ã€‚\n/etc:\nä¸Šè¾¹ä¹Ÿæåˆ°äº†ï¼Œè¿™ä¸ªæ˜¯ç³»ç»Ÿä¸­çš„é…ç½®æ–‡ä»¶ï¼Œå¦‚æœä½ æ›´æ”¹äº†è¯¥ç›®å½•ä¸‹çš„æŸä¸ªæ–‡ä»¶å¯èƒ½ä¼šå¯¼è‡´ç³»ç»Ÿä¸èƒ½å¯åŠ¨ã€‚\n/var:\nè¿™æ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„ç›®å½•ï¼Œç³»ç»Ÿä¸Šè·‘äº†å¾ˆå¤šç¨‹åºï¼Œé‚£ä¹ˆæ¯ä¸ªç¨‹åºéƒ½ä¼šæœ‰ç›¸åº”çš„æ—¥å¿—äº§ç”Ÿï¼Œè€Œè¿™äº›æ—¥å¿—å°±è¢«è®°å½•åˆ°è¿™ä¸ªç›®å½•ä¸‹ï¼Œå…·ä½“åœ¨ /var/log ç›®å½•ä¸‹ï¼Œå¦å¤– mail çš„é¢„è®¾æ”¾ç½®ä¹Ÿæ˜¯åœ¨è¿™é‡Œ\n/bin, /sbin, /usr/bin, /usr/sbin: è¿™æ˜¯ç³»ç»Ÿé¢„è®¾çš„æ‰§è¡Œæ–‡ä»¶çš„æ”¾ç½®ç›®å½•ï¼Œæ¯”å¦‚ ls å°±æ˜¯åœ¨ /bin/ls ç›®å½•ä¸‹çš„ã€‚\nå€¼å¾—æå‡ºçš„æ˜¯ /binã€/usr/bin æ˜¯ç»™ç³»ç»Ÿç”¨æˆ·ä½¿ç”¨çš„æŒ‡ä»¤ï¼ˆé™¤ root å¤–çš„é€šç”¨ç”¨æˆ·ï¼‰ï¼Œè€Œ/sbin, /usr/sbin åˆ™æ˜¯ç»™ root ä½¿ç”¨çš„æŒ‡ä»¤ã€‚\n","date":"2023-06-04","permalink":"https://sslime336.github.io/post/linux-notes1/","tags":["notes","linux"],"title":"Linux å°è®°(ä¸€)"},{"content":"è¿™ä¸ªé—®é¢˜ä¸»è¦æ¶‰åŠåˆ°å‡½æ•°ä¼ å€¼ï¼Œä½†å…·ä½“æ˜¯ä¼ å€¼è¿˜æ˜¯ä¼ å¼•ç”¨å¯¹äº Nim æ¥è¯´å¹¶ä¸å¥½è¯´ï¼Œç¼–è¯‘å™¨ä¼šå°½é‡é‡‡ç”¨æ›´é«˜æ•ˆçš„æ–¹å¼\nå¦‚æœé€‰ç”¨ä¸åŒçš„ GC ç­–ç•¥ï¼Œé‚£ä¹ˆå¯èƒ½åˆæ˜¯å¦ä¸€å›äº‹(æ¯”å¦‚ ARC/ORC å¯èƒ½æ ¹æ®ä¸Šä¸‹æ–‡æ¥è¯´å°±æ˜¯ç§»åŠ¨è¯­ä¹‰)\nè¿™é‡Œåªç®€å•çš„è€ƒè™‘éå¸¸æ™®é€šçš„å‚æ•°ä¼ é€’æƒ…å†µ\nä¸‹é¢æ˜¯ä¸ªä¾‹å­:\ntype Person = object name: string age: Natural proc intro(person: Person) = echo person.repr when isMainModule: var p = Person(name: \u0026quot;John\u0026quot;, age: 100) intro(p) ä¸Šé¢æˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ª Person ç±»å‹ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ sizeof æ¥æŸ¥çœ‹å®ƒçš„å¤§å°:\necho \u0026quot;sizeof(Person): \u0026quot; \u0026amp; $sizeof(Person) \u0026amp; \u0026quot; Bytes\u0026quot; ç»“æœå¦‚ä¸‹:\nsizeof(Person): 24 Bytes å¯ä»¥çœ‹åˆ°å½“å‰çš„ Person ç›¸å¯¹æ¥è¯´è¿˜æ˜¯æ¯”è¾ƒå°çš„\næ¥ä¸‹æ¥æˆ‘ä»¬çœ‹ä¸€ä¸‹è°ƒç”¨ intro æ—¶ï¼Œå˜é‡ p æ˜¯å¦‚ä½•ä¼ é€’çš„(ä¸‹é¢æ˜¯ C ä»£ç çš„è¡¨ç¤ºï¼Œä¸ºäº†æ–¹ä¾¿çœ‹ï¼Œæˆ‘åˆ æ‰äº† mangle çš„å†…å®¹):\næ³¨: æˆ‘ä½¿ç”¨çš„å®˜æ–¹ç¼–è¯‘å™¨ï¼Œæ‰€ä»¥ä¼šå…ˆç¼–è¯‘å‡º C ä»£ç ï¼Œæˆ‘é…ç½®çš„ C ç¼–è¯‘å™¨æ˜¯ clang (å¦‚æœä½ ä½¿ç”¨ nlvm èµ° LLVM-IR è·¯çº¿ï¼Œé‚£ä¹ˆè¿™ç¯‡æ–‡ç« å¯èƒ½ä¸æ˜¯å¾ˆé€‚åˆè¿™ç§æƒ…å†µï¼Œè¿™é‡Œæˆ‘ä»¬åªè®¨è®º nimc çš„è¡¨ç°æƒ…å†µåŠç»“æœ)\nstatic const NimStringV2 name = {4, (NimStrPayload*)\u0026amp;{ 4 | NIM_STRLIT_FLAG, \u0026quot;John\u0026quot; }}; nimZeroMem((void*)(\u0026amp;p), sizeof(Person)); p.name = name; p.age = ((NI) 100); intro(p); å¯ä»¥çœ‹åˆ°è¿™é‡Œå˜é‡ p çš„ä¼ é€’ç›´æ¥è¿›è¡Œäº†ä¸€æ¬¡æ‹·è´\nä½†å¦‚æœæˆ‘ä»¬å¯¹ Person è¿›è¡Œä¸‹é¢çš„ä¿®æ”¹:\ntype Person = object name: string age: Natural + padding {.used.}: array[512, int] æˆ‘ä»¬åŠ å…¥äº†ä¸€ä¸ª padding å­—æ®µï¼Œä½¿ç°åœ¨ Person çš„å¤§å°å˜æˆäº† sizeof(Person): 4120 Bytes\nå†çœ‹ä¸€ä¸‹ç”Ÿæˆçš„ C ä»£ç :\nstatic const NimStringV2 name = {4, (NimStrPayload*)\u0026amp;{ 4 | NIM_STRLIT_FLAG, \u0026quot;John\u0026quot; }}; nimZeroMem((void*)(\u0026amp;p), sizeof(Person)); p.name = name; p.age = ((NI) 100); intro((\u0026amp;p)); å¯ä»¥çœ‹åˆ°è¿™é‡Œåªæ˜¯ä¼ é€’äº† p çš„åœ°å€\næ‰€ä»¥ Nim å‚æ•°çš„ä¼ é€’è¿˜æ˜¯æ¯”è¾ƒé«˜æ•ˆçš„(doge)\n","date":"2023-06-02","permalink":"https://sslime336.github.io/post/nim-notes2/","tags":["notes","nim"],"title":"Nim ä¸å¯å˜å‚æ•°ä¼ é€’çš„ä¼˜åŒ–"},{"content":"ä¸€èˆ¬æ¥è¯´ï¼ŒRust çš„ Docker é•œåƒå¯ä»¥é€‰æ‹© rust:latest\nä½†æ˜¯è¿™å¹¶æ²¡æœ‰æä¾› rust-nightly çš„ç¯å¢ƒï¼Œè§£å†³åŠæ³•æœ‰ä¸¤ä¸ª:\nåœ¨æ„å»ºå‰ï¼Œä½¿ç”¨ RUN æ‰§è¡Œä¸‹é¢çš„æ“ä½œ:\nRUN rustup update nightly; rustup default nightly; å› ä¸º\nThe Rust installs in the images are managed by rustup\nä½†è¿™æ ·å¯èƒ½ä¼šå¸¦æ¥ä¸€äº›æ½œåœ¨çš„é—®é¢˜ï¼Œè¯¦è§ rust-lang/docker-rust/issue#5\næˆ–è€…ä½¿ç”¨å®˜æ–¹æä¾›çš„å¦ä¸€ä¸ªé•œåƒ rustlang/rust:nightly\ndocker pull rustlang/rust:nightly FROM rustlang/rust:nightly # å…¶ä»–å†…å®¹... ","date":"2023-06-01","permalink":"https://sslime336.github.io/post/docker-note1/","tags":["rust","docker","Dockerfile","nightly"],"title":"åœ¨ Docker ä¸­ä½¿ç”¨ rust-nightly toolchain æ„å»º"},{"content":"æœ€è¿‘æäº†ä¸ª Termiusï¼Œä½†æ˜¯å‘ç°ä¸€äº›å¿«æ·é”®è¢«å®ƒåäº†ï¼Ÿï¼è€Œä¸æ˜¯å‘é€åˆ°æœåŠ¡å™¨çš„ shell ä¸Š\nä¼—æ‰€å‘¨çŸ¥ï¼ŒCtrl + L å¯ä»¥ä»£æ›¿ clearï¼Œä½†æ˜¯åœ¨ Termius é‡Œé¢ä¼šæ‰“å¼€æœ¬åœ°çš„ shell\nè€Œä¸”ç±»ä¼¼ Ctrl + P ä¹Ÿæ— æ³•ä½¿ç”¨äº†(è¡€å‹æœ‰ç‚¹å°é«˜)\nè§£å†³åŠæ³• å·¦ä¸Šè§’ Settings -\u0026gt; Shortcuts -\u0026gt; PC hotkeys -\u0026gt; Disabled\næ‚é±¼â¤æ‚é±¼â¤~\n","date":"2023-05-31","permalink":"https://sslime336.github.io/post/termius-notes1/","tags":["termius"],"title":"ç¦ç”¨ Termius PC hotkeys"},{"content":"æœ¬æ–‡ç®€å•æ€»ç»“äº† tracing å’Œ tracing-subscriber çš„ä½¿ç”¨ï¼Œè¯¦ç»†å†…å®¹è¯·å‚é˜…å®˜æ–¹æ–‡æ¡£:\ntracing: https://docs.rs/tracing/latest/tracing/index.html tracing-subscriber: https://docs.rs/tracing-subscriber/latest/tracing_subscriber/ tracing æ˜¯ä¸€ä¸ªç”± tokio å¼€å‘å¹¶ç»´æŠ¤ çš„æ¡†æ¶ï¼Œè¿™ä¸ªæ¡†æ¶ç”¨äºå¯¹ Rust ç¨‹åºè¿›è¡Œæ£€æµ‹ï¼Œæ”¶é›†ç»“æ„åŒ–ã€äº‹ä»¶é©±åŠ¨çš„è¯Šæ–­ä¿¡æ¯ã€‚\néƒ¨åˆ†ç¿»è¯‘è‡ª: https://github.com/tokio-rs/tracing#overview\nè¯¥æ¡†æ¶è™½ç„¶æ˜¯ç”± tokio å¼€å‘å¹¶ç»´æŠ¤çš„ï¼Œä½†å…¶å¹¶ä¸éœ€è¦ tokio çš„è¿è¡Œæ—¶\nä½¿ç”¨æ–¹æ³• å¯¹äºå¯æ‰§è¡Œæ–‡ä»¶(bin crate) ä¸ºäº†è®°å½•ä¸€ç³»åˆ—äº‹ä»¶é©±åŠ¨çš„ traceï¼Œåº”ç”¨ç¨‹åºéœ€è¦å®ç°ä¸€ä¸ªä¸ tracing å…¼å®¹çš„ä¿¡æ¯æ”¶é›†å™¨(collector)\ncollector å®ç°äº†ä¸€ç§æ”¶é›† trace ä¿¡æ¯çš„æ–¹å¼ï¼Œæ¯”å¦‚ç›´æ¥å°†ä¿¡æ¯ç»“æ„åŒ–è¾“å‡ºåˆ° stdout(å¦‚ä½¿ç”¨: info!, debug!, error!)\ntracing æŒ‰ç…§ Rust é—¨é¢æ—¥å¿—åº“ log å¼€å‘ï¼Œåœ¨å…¶ä¾èµ–é¡¹é‡Œé¢æˆ‘ä»¬å¯ä»¥çœ‹åˆ°è¿™ç‚¹:\n# tracing/Cargo.toml log = { version = \u0026quot;0.4.17\u0026quot;, optional = true } ä¸Šé¢è¯´åˆ°å¯¹äºå…·ä½“çš„ traceï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨ä¸€ä¸ª collector å°†å…¶æ”¶é›†å¹¶å¤„ç†ï¼Œå¯¹äºç®€å•çš„åœºæ™¯ï¼Œæ¯”å¦‚åªéœ€è¦ å°† trace å½“æˆæ—¥å¿—æ‰“å°åˆ°æ§åˆ¶å°ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ tracing-subscriber çš„ fmt æ¨¡å—:\nå…ˆæ·»åŠ ä¾èµ–:\n# lab-rs/Cargo.toml [dependencies] tracing = \u0026quot;0.1\u0026quot; tracing-subscriber = \u0026quot;0.3.17\u0026quot; use tracing::info; fn main() { // è¿™é‡Œè°ƒç”¨ fmt::init() ä¼šè£…è½½ä¸€ä¸ªå…¨å±€çš„ tracing subscriber æ¥ç›‘å¬ // å½“å‰å‘ç”Ÿçš„äº‹æƒ…(events) // // è¿™é‡Œçš„ subcriber å°±æ˜¯ä¸€ä¸ª `collector`ï¼Œåªä¸è¿‡è¿™æ˜¯ `tokio` å®˜æ–¹å®ç°çš„ï¼Œå¦‚æœè¦ // å®ç°è‡ªå·±çš„ `collector`ï¼Œéœ€è¦ä¿è¯å…¶ä¸ `tracing` å…¼å®¹ï¼Œå³å®ç° [`tracing::Subcriber`] tracing_subscriber::fmt::init(); info!(\u0026quot;about to exit main\u0026quot;); } cargo r ä¸€ä¸‹:\n2023-05-31T09:14:17.211140Z INFO lab_rs: about to exit main å¯ä»¥çœ‹åˆ°æˆ‘ä»¬çš„æ—¥å¿—ä¿¡æ¯è¢«æ”¶é›†å¹¶æ‰“å°åˆ°äº†æ§åˆ¶å°\nè€Œå¦‚æœåˆ å» tracing_subscriber::fmt::init();ï¼Œä½ ä¼šå‘ç°ä»€ä¹ˆéƒ½æ²¡æœ‰è¾“å‡º\næ³¨: å¦‚æœæƒ³è¦å®ç°è‡ªå·±çš„ collector åˆ™å…¶éœ€è¦æ»¡è¶³ tracing çš„ Subscriber trait\nå¯¹äºåº“æ–‡ä»¶(lib crate) æˆ‘ä»¬åªéœ€è¦ä½¿ç”¨ tracing æä¾›çš„ä¸€ç³»åˆ— marco å’Œæ–¹æ³•å°±è¡Œï¼Œä¸éœ€è¦ä½¿ç”¨ subscriber\nLibraries should only rely on the tracing crate and use the provided macros and types to collect whatever information might be useful to downstream consumers.\nSubscriber ã® Layerï¼ŒFilter å’Œ Registry æ‡’å¾—å†™äº†ç›´æ¥çœ‹å®˜æ–¹æ–‡æ¡£å§ ğŸ˜›\nLayer \u0026amp; Filter\nRegistry\nä¸¾ä¸ªä¾‹å­:\nç›´æ¥æ‹¿ ricq çš„ä»£ç å“©\nfn main() { tracing_subscriber::registry() .with(tracing_subscriber::fmt::layer().with_target(true)) .with( tracing_subscriber::filter::Targets::new() .with_target(\u0026quot;ricq\u0026quot;, Level::DEBUG) .with_target(\u0026quot;qrcode_login\u0026quot;, Level::DEBUG) .with_target(\u0026quot;ano\u0026quot;, Level::DEBUG), ) .init(); } æ‚„å’ªå’ªè¯´ä¸€å¥: no_std çœŸå°±ä¸å¦‚ default-features å¥½ç”¨å‘—qwq\n","date":"2023-05-31","permalink":"https://sslime336.github.io/post/tracing-subscriber/","tags":["trace","rust","tokio"],"title":"tokio tracing"},{"content":"Privacy-Enhanced Mail å³ .pem\n*.pem æŒ‡çš„æ˜¯ä¸€ç§é‡‡ç”¨ base64 ç¼–ç çš„æ–‡æœ¬æ–‡ä»¶ï¼Œè¯¥åç¼€æ–‡ä»¶é€šå¸¸ç”¨äºå­˜æ”¾è¯ä¹¦æˆ–ç§˜é’¥ï¼Œ åä¸¤è€…å¯ å•ç‹¬åˆ†å¼€å­˜æ”¾ä¹Ÿå¯æ”¾åœ¨ä¸€èµ·\nå¤§æ¦‚é•¿è¿™æ ·:\n-----BEGIN RSA PRIVATE KEY----- 5LiN5Lya55yf55qE5pyJ5ZOq5Liq5bCP6YC85bS95a2Q5oOz5bmy5Z2P5LqL5ZCn 77yM5LiN5Lya5ZCn77yM5LiN5Lya5ZCn5LiN5Lya55yf55qE5pyJ5ZOq5Liq5bCP 6YC85bS95a2Q5oOz5bmy5Z2P5LqL5ZCn77yM5LiN5Lya5ZCn77yM5LiN5Lya5ZCn 5LiN5Lya55yf55qE5pyJ5ZOq5Liq5bCP6YC85bS95a2Q5oOz5bmy5Z2P5LqL5ZCn 77yM5LiN5Lya5ZCn77yM5LiN5Lya5ZCn5LiN5Lya55yf55qE5pyJ5ZOq5Liq5bCP 6YC85bS95a2Q5oOz5bmy5Z2P5LqL5ZCn77yM5LiN5Lya5ZCn77yM5LiN5Lya5ZCn 5LiN5Lya55yf55qE5pyJ5ZOq5Liq5bCP6YC85bS95a2Q5oOz5bmy5Z2P5LqL5ZCn 77yM5LiN5Lya5ZCn77yM5LiN5Lya5ZCn5LiN5Lya55yf55qE5pyJ5ZOq5Liq5bCP 6YC85bS95a2Q5oOz5bmy5Z2P5LqL5ZCn77yM5LiN5Lya5ZCn77yM5LiN5Lya5ZCn 5LiN5Lya55yf55qE5pyJ5ZOq5Liq5bCP6YC85bS95a2Q5oOz5bmy5Z2P5LqL5ZCn 77yM5LiN5Lya5ZCn77yM5LiN5Lya5ZCn5LiN5Lya55yf55qE5pyJ5ZOq5Liq5bCP 6YC85bS95a2Q5oOz5bmy5Z2P5LqL5ZCn77yM5LiN5Lya5ZCn77yM5LiN5Lya5ZCn 5LiN5Lya55yf55qE5pyJ5ZOq5Liq5bCP6YC85bS95a2Q5oOz5bmy5Z2P5LqL5ZCn 77yM5LiN5Lya5ZCn77yM5LiN5Lya5ZCn5LiN5Lya55yf55qE5pyJ5ZOq5Liq5bCP 6YC85bS95a2Q5oOz5bmy5Z2P5LqL5ZCn77yM5LiN5Lya5ZCn77yM5LiN5Lya5ZCn 6YKj5Liq5bCP6YC85bS95a2Q5LiN5Lya5piv5L2g5ZCn77yM5LiN5Lya5ZCn5LiN 5Lya5ZCn6YKj5Liq5bCP6YC85bS95a2Q5LiN5Lya5piv5L2g5ZCn4p2k5p2C6bG8 fuKdpOadgumxvH4= -----END RSA PRIVATE KEY----- ä¸è¦æäº‹å‘¦:)\n","date":"2023-05-31","permalink":"https://sslime336.github.io/post/what-is-pem/","tags":["certificate","secret-key","file-extension"],"title":"Privacy-Enhanced Mail"},{"content":" ç®€å•å†™å†™0 v0\néœ€æ±‚ ä¸€ä¸ªç®€å•æ–¹ä¾¿æ“ä½œçš„ä¸ªäººåšå®¢ï¼Œä¸éœ€è¦å¤ªå¤šç‰¹æ€§ï¼ŒåŠ›æ±‚ç®€æ´ å¹³æ—¶è®°å½•ç‚¹å­¦ä¹ è¿‡çš„çŸ¥è¯†ç‚¹ å‘ç‰¢éªš é€‰å‹ GitHub Page\nå…è´¹ï¼Œå¥½ç”¨ï¼Œè‡ªåŠ¨éƒ¨ç½²ä¹Ÿæ–¹ä¾¿\nHugo\næ“ä½œç®€å•ï¼Œç”Ÿæˆæ–‡ç« é€Ÿåº¦å¿«ï¼Œä¸»é¢˜æ¨¡æ¿è¾ƒä¸ºä¸°å¯Œ\nfuji\nå½“å‰ä½¿ç”¨çš„ä¸»é¢˜\nè¯¦ç»†æµç¨‹(åŸºäº fuji) å»ºä»“åº“ \u0026lt;username\u0026gt;.github.io.git æ‹‰å–åˆ°æœ¬åœ°ï¼Œhugo å»ºç«™ï¼Œæ·»åŠ ä¸»é¢˜ $ git clone \u0026lt;git\u0026gt; \u0026amp;\u0026amp; \\ cd \u0026lt;git_dir\u0026gt; \u0026amp;\u0026amp; \\ git checkout -b hugo \u0026amp;\u0026amp; \\ hugo new site . \u0026amp;\u0026amp; \\ git submodule add https://github.com/dsrkafuu/hugo-theme-fuji.git themes/fuji æ ¹æ® fuji æ–‡æ¡£ç®€å•æ“ä½œ ç„¶åæŠŠ exampleSite å¤åˆ¶å‡ºæ¥ï¼Œå¹¶ä¿®æ”¹ config.toml\nå¤ç”¨äº†ä¸€ä¸‹ exampleSite é‡Œé¢çš„ä¸œè¥¿\né…ç½®è‡ªåŠ¨éƒ¨ç½² å½“å‰çš„åˆ†æ”¯æ˜¯ hugoï¼Œæˆ‘å¸Œæœ›åœ¨æˆ‘å¾€è¿™ä¸ªåˆ†æ”¯ push çš„æ—¶å€™ï¼Œèƒ½è‡ªåŠ¨æ„å»ºå¹¶å°† hugo ç”Ÿæˆçš„é™æ€é¡µéƒ¨ç½²åˆ°ä¸»åˆ†æ”¯(master)\næ‰€ä»¥ä½¿ç”¨äº†ä¸‹ GitHub Action(å‚è€ƒäº†ç‹è·¯é£çš„çŸ¥ä¹):\n# .github/workflows/deploy.yml name: Update sslime336.github.io on: push: branches: - hugo jobs: deploy2master: name: Build \u0026amp; Deploy runs-on: ubuntu-latest steps: - name: Check out source code on branch hugo uses: actions/checkout@v3 with: ref: hugo submodules: recursive # Fetch Hugo themes (true OR recursive) fetch-depth: 0 # Fetch all history for .GitInfo and .Lastmod - name: Setup Hugo uses: peaceiris/actions-hugo@v2 with: hugo-version: latest - name: Build run: hugo - name: Deploy uses: peaceiris/actions-gh-pages@v3 with: deploy_key: ${{ secrets.ACTION_DEPLOY_KEY }} external_repository: sslime336/sslime336.github.io # Page ä»“åº“ publish_branch: master # Page ä»“åº“çš„åˆ†æ”¯ publish_dir: ./public # é™æ€ç½‘é¡µè·¯å¾„ commit_message: ${{ github.event.head_commit.message }} è¿™é‡Œå”¯ä¸€éœ€è¦æ³¨æ„ä¸€ä¸‹çš„æ˜¯ deploy_key: ${{ secrets.ACTION_DEPLOY_KEY }}\nè¿™é‡Œä½¿ç”¨ external_repository å¹¶ä¸åˆé€‚ï¼Œä»¥åå†æ”¹ :P\nå‡†å¤‡è‡ªåŠ¨éƒ¨ç½²:\nåœ¨é¡¹ç›®æ ¹ç›®å½•æ–°å»º .github/workflows/deploy.yml cp ä¸Šé¢çš„å†…å®¹å¹¶ä¿®æ”¹ å¤„ç† deploy_key, ç‚¹æˆ‘æŸ¥çœ‹ git add . \u0026amp;\u0026amp; git commit -m \u0026quot;xxx\u0026quot; \u0026amp;\u0026amp; git push -set-upstream origin hugo å½“ç„¶è¿˜æ˜¯å»ºè®®ä¸»åˆ†æ”¯å†™ä¸œè¥¿ç„¶åéƒ¨ç½²åˆ° gh-pages åˆ†æ”¯","date":"2023-05-30","permalink":"https://sslime336.github.io/post/short-intro/","tags":["intro"],"title":"æ­å»ºè¿‡ç¨‹"}]